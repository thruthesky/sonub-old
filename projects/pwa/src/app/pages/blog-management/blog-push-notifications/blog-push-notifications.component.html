<header>
    <mat-toolbar class="border-top border-top-md-0">
        <h1 class="px-md-2 fw-light">Notifications</h1>
    </mat-toolbar>
</header>

<main class="p-3 p-md-4 bg-white fs-md">

  <p class="mt-0 mb-3 bg-light p-3 rounded">
    You can send notifications to your blog subscribers.
    A message will be delivered on their mobile or computers.
  </p>

  <em class="d-block p-3 border" *ngIf=" !idx ">
    You have not chosen a post. Please choose a post to send notifications.
    <dfn class="d-block pt-2 text-darkgreen">
      (1) Go to a post. (2) Click menu. (3) click 'Send notifications'
    </dfn>
  </em>

  <section *ngIf=" idx ">

        <div class="d-md-flex justify-content-around text-darkgreen">
            <div class="py-2 py-md-3"><b class="text-dark">Post No:</b> {{ idx }}</div>
            <div class="py-2 py-md-3 "><b class="text-dark">No. of Subscribers:</b> {{ noOfTokens }}</div>
        </div>

        <div class="favicon d-block text-center mt-3 mb-4"  *ngIf="blog" >
            <span class="d-block mx-auto my-2 size-64px of-hidden rounded bg-secondary"><img class="w-100" src="{{ blog.url_favicon }}"></span>
            <a class="d-block text-link"  routerLink="{{ a.getBlogSettingsBasicUrl() }}">Current Favicon used for notification icon.</a>
        </div>


        <form (ngSubmit)=" onSubmit() " *ngIf="post">

            <mat-form-field class="w-100" appearance="outline">
                <mat-label>Subject</mat-label>
                <input matInput name="title" [(ngModel)]="form.title" (keyup)="a.validateInput($event, 60)">
            </mat-form-field>

            <mat-form-field class="w-100" appearance="outline">
                <mat-label>Content</mat-label>
                <input matInput name="body" [(ngModel)]="form.body" (keyup)="a.validateInput($event, 60)">
            </mat-form-field>

            <div class="mt-4 mb-5 text-center">
              <button class="flex-center bg-primary white" mat-flat-button type="submit">
                <span class="flex-center" *ngIf="!loader.submit">Send Notifications To Blog subscribers <i class="ml-2 material-icons">send</i></span>
                <span class="flex-center" *ngIf="loader.submit">
                    <mat-spinner class="d-inline-block loader-white" [diameter]="24"></mat-spinner><span class="ml-2">{{a.t({ko: '로딩...', en: 'Loading...' })}}</span>
                </span>
              </button>
            </div>

        </form>


  </section>


</main>
<footer>

</footer>
